import base64
eval(compile(base64.b64decode('aW1wb3J0IHRpbWUKCgpjbGFzcyBMb29wQ291bnRlcjoKICAgICMgVXNlZCB0byByZWNvcmQgdGhlIG51bWJlciBvZiBsb29wIGl0ZXJhdGlvbnMgKGUuZy4gbnVtYmVyIG9mIG5vZGVzIGV4cGFuZGVkKS4gSW5jbHVkZXMgYW50aS1jaGVhdCBmZWF0dXJlIChpZgogICAgIyB0aGUgYXZlcmFnZSB0aW1lIGJldHdlZW4gaW5jcmVtZW50cyBpcyB0b28gc21hbGwsIHRoZW4gZmFpbCB2ZXJpZmljYXRpb24pLgoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmxhc3RfaW5jX3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHNlbGYubGFzdF9pbmNfY291bnQgPSAwCiAgICAgICAgc2VsZi5fY291bnQgPSAwCiAgICAgICAgc2VsZi52aW9sYXRpb25zID0gMAoKICAgICAgICBzZWxmLnRzID0gW10KCiAgICBkZWYgaW5jKHNlbGYpOgogICAgICAgIHNlbGYuX2NvdW50ICs9IDEKCiAgICAgICAgaWYgc2VsZi5fY291bnQgLSBzZWxmLmxhc3RfaW5jX2NvdW50ID4gNTA6CiAgICAgICAgICAgIHQgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBzZWxmLnRzLmFwcGVuZCh0IC0gc2VsZi5sYXN0X2luY190aW1lKQogICAgICAgICAgICBzZWxmLmxhc3RfaW5jX3RpbWUgPSB0CiAgICAgICAgICAgIHNlbGYubGFzdF9pbmNfY291bnQgPSBzZWxmLl9jb3VudAoKICAgIGRlZiBjb3VudChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fY291bnQKCiAgICBkZWYgdmVyaWZ5MShzZWxmLCB0Z3QsIHNfdHlwZSk6CiAgICAgICAgIyBSZXR1cm4gRmFsc2UgaWYgY291bnQgaXMgdG9vIGxvdyByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0LCBzdWdnZXN0aW5nIGNvdW50ZXIgd2FzIHVzZWQgaW5jb3JyZWN0bHkKICAgICAgICBpZiBzX3R5cGUgPT0gJ3Vjcyc6CiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jb3VudCA+ICh0Z3QgKiAwLjgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NvdW50ID4gKHRndCAqIDAuMikKCiAgICBkZWYgdmVyaWZ5MihzZWxmKToKICAgICAgICAjIHJldHVybiBGYWxzZSBpZiB0aW1pbmcgc3VnZ2VzdHMgbG9vcCBjb3VudGVyIHdhcyB1c2VkIGluY29ycmVjdGx5CiAgICAgICAgdHNfYXZnID0gc3VtKHNlbGYudHMpIC8gbGVuKHNlbGYudHMpCiAgICAgICAgaWYgdHNfYXZnIDwgMC4wMDA1OgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gVHJ1ZQoK'), '<string>', 'exec'))
